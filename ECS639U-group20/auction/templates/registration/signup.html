{% extends '../base.html' %}

{% block title %}Sign Up {% endblock %}

{% block heading %}Sign Up{% endblock %}

{% block content %}
  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <table class = "m-auto">
        <tr>
            <td class = "pt-4 text-end">{{ form.username.label_tag }}</td>
            <td class = "pt-4 text-start">{{ form.username }}</td>
        </tr>
        <tr>
            <td colspan="2">
              <small class = "text-secondary">{{ form.username.help_text }}</small>
            </td>
        </tr>
        <tr>
          <td class = "pt-4 text-end">{{ form.email.label_tag }}</td>
          <td class = "pt-4 text-start">{{ form.email }}</td>
        </tr>
        <tr>
          <td class = "pt-4 text-end">{{ form.date_of_birth.label_tag }}</td>
          <td class = "pt-4 text-start">{{ form.date_of_birth }}</td>
        </tr>
        <tr>
          <td class = "pt-4 text-end">{{ form.profile_image.label_tag }}</td>
          <td class = "pt-4 text-start">{{ form.profile_image }}</td>
        </tr>
        <tr>
          <td class = "pt-4 text-end">{{ form.city.label_tag }}</td>
          <td class = "pt-4 text-start">{{ form.city }}</td>
        </tr>
        <tr>
          <td class = "pt-4 text-end">{{ form.password1.label_tag }}</td>
          <td class = "pt-4 text-start">{{ form.password1 }}</td>
        </tr>
        <tr>
          <td colspan="2">
            <small class = "text-secondary">{{ form.password1.help_text }}</small>
          </td>
      </tr>
        <tr>
          <td class = "pt-4 text-end">{{ form.password2.label_tag }}</td>
          <td class = "pt-4 text-start">{{ form.password2 }}</td>
        </tr>
        <tr>
          <td colspan="2">
            <small class = "text-secondary">{{ form.password2.help_text }}</small>
          </td>
      </tr>
        {% for field in form %}
          {% for error in field.errors %}
            <tr colspan="2">
              <p class = "text-danger">{{ error }}</p>
            </tr>
          {% endfor %}
        {% endfor %}
      </table>
    <button class = "mt-3 btn btn-success" type="submit">Sign Up</button>
  </form>
{% endblock %}

{% block redirect %}
  <p> Already have an account? </p>
  <button class = "btn btn-secondary" onclick="window.location.href = '{% url 'login' %}';">
    Log In
  </button>
{% endblock %}

{% comment %} https://www.csestack.org/django-sign-up-registration-form/ {% endcomment %}